<!DOCTYPE html>
<html>
<head>
    <title>Sealing the Abyss...</title>
    <script src="chaos-sdk.js"></script> <style>body{background:#000;color:#00ff41;font-family:monospace;text-align:center;padding-top:20vh;}</style>
</head>
<body>
<h1>SEALING THE ABYSS</h1>
<div id="wipe"></div>
<script>
    // Ensure the generator function is ready
    if (typeof generateInfiniteChaosCode === 'undefined') {
        document.getElementById('wipe').innerHTML = '<h2>ERROR: SDK missing.</h2>';
    } else {
        const words = generateInfiniteChaosCode("seal"+Date.now(),3);
        document.getElementById('wipe').innerHTML = `<h2>${words.join('-')}</h2><p>All temporary traces erased.</p>`;
    }
    
    setTimeout(() => {
        // --- CRITICAL SECURITY FIX ---
        // Only remove session-critical keys, preserving profile (callsign_history, zk_profile_commit).
        sessionStorage.clear();
        localStorage.removeItem('chaos_key_vault');
        localStorage.removeItem('session_start');

        window.location.href = '/';
    }, 3000);
</script>
</body>
</html>