/**
 * ðŸŒ€ CHAOS SKILL ENGINE v1.0
 * Procedural Node Generation & Passive XP Logic
 */
const PROFESSIONS = {
    "NETRUNNER": { bonus: "INT", startNodes: ["Encryption", "Dream_Sync"], trait: "Ghost in the Machine" },
    "SCAVENGER": { bonus: "LUK", startNodes: ["Loot_Find", "Abyss_Navigation"], trait: "Waste Not" },
    "SENTINEL": { bonus: "END", startNodes: ["Physical_Integrity", "Nightmare_Spike"], trait: "Unwavering" }
};

class SkillEngine {
    constructor(playerData) {
        this.job = playerData.job || "NETRUNNER";
        this.tree = playerData.tree || this._generateInitialTree();
        this.xpPool = playerData.xpPool || 0;
    }

    _generateInitialTree() {
        // Procedurally generate a PoE-style web based on the Player's Callsign
        const branches = ["Combat", "Utility", "Tech", "Chaos"];
        let initialNodes = [];
        
        branches.forEach(branch => {
            for(let i=0; i<25; i++) { // 100 base nodes per player
                initialNodes.push({
                    id: `${branch}-${i}`,
                    name: `${branch} Node ${i}`,
                    locked: true,
                    cost: 10 + (i * 5),
                    power: (Math.random() * 5).toFixed(2)
                });
            }
        });
        return initialNodes;
    }

    // IDLE ENGINE: XP is generated by CAND triggers over time
    processIdleGain(triggersToday) {
        const gain = triggersToday * 1.5;
        this.xpPool += gain;
        return gain;
    }
}
