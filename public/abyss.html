<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Forge Identity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #00ff41; font-family: monospace; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
        .sigil-opt { border: 2px solid #333; padding: 15px; border-radius: 8px; cursor: pointer; text-align: center; transition: all 0.2s; }
        .sigil-opt.selected { border-color: #00ff41; background: #002200; box-shadow: 0 0 15px #00ff41; }
        /* Prevent accidental zooming on mobile inputs */
        input, select, textarea { font-size: 16px; } 
    </style>
</head>
<body class="p-4">
    <div class="w-full max-w-md flex flex-col gap-6">
        
        <div class="text-center">
            <h1 class="text-3xl font-black tracking-widest text-white mb-2">IDENTITY FORGE</h1>
            <p class="text-gray-500 text-sm">Step 1: Generate Callsign</p>
        </div>

        <div id="callsign-display" class="bg-gray-900 border-2 border-green-900 p-6 rounded text-center text-3xl font-mono text-green-400 font-bold min-h-[80px] flex items-center justify-center">
            VOID-USER
        </div>

        <button onclick="generate()" class="w-full bg-green-900 text-white font-bold py-4 rounded text-lg border border-green-700 hover:bg-green-700 active:scale-95 transition">
            GENERATE NEW CALLSIGN
        </button>

        <div id="sigil-section" class="hidden opacity-0 transition-opacity duration-500">
            <p class="text-center text-gray-500 text-sm mb-3">Step 2: Choose Your Key Shape</p>
            <div class="grid grid-cols-3 gap-3 mb-6">
                <div class="sigil-opt" onclick="selectSigil('TRIANGLE')">▲<br><span class="text-xs">TRIANGLE</span></div>
                <div class="sigil-opt" onclick="selectSigil('LIGHTNING')">⚡<br><span class="text-xs">BOLT</span></div>
                <div class="sigil-opt" onclick="selectSigil('CIRCLE')">⭕<br><span class="text-xs">CIRCLE</span></div>
            </div>

            <button onclick="confirm()" class="w-full bg-white text-black font-black py-4 rounded text-xl shadow-lg hover:bg-gray-200 active:scale-95 transition">
                BEGIN CALIBRATION →
            </button>
        </div>

    </div>

    <script>
        const words = ["ONYX", "IRON", "NEON", "WOLF", "ECHO", "DATA", "ZERO", "FLUX", "CORE", "GATE"];
        let selectedCallsign = "";
        let selectedSigil = "";

        function generate() {
            const r1 = words[Math.floor(Math.random()*words.length)];
            const r2 = words[Math.floor(Math.random()*words.length)];
            const num = Math.floor(Math.random()*99).toString().padStart(2,'0');
            selectedCallsign = `${r1}-${r2}-${num}`;
            
            document.getElementById('callsign-display').innerText = selectedCallsign;
            document.getElementById('callsign-display').classList.add('text-white', 'border-green-500');
            
            // Show Step 2
            const sec = document.getElementById('sigil-section');
            sec.classList.remove('hidden');
            setTimeout(() => sec.classList.remove('opacity-0'), 100);
        }

        function selectSigil(type) {
            selectedSigil = type;
            document.querySelectorAll('.sigil-opt').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
        }

        function confirm() {
            if(!selectedSigil) return alert("SELECT A SHAPE TO CONTINUE");
            
            // Save Data
            localStorage.setItem('callsign_history', selectedCallsign);
            localStorage.setItem('chaos_sigil_type', selectedSigil);
            
            // Go to Calibration
            window.location.href = '/abyss-forge.html';
        }
    </script>
</body>
</html>
