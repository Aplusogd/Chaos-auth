<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHAOS ID — AI-Native Identity Provider</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* CORE STYLES */
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono:wght@400;700&display=swap');
        body { 
            background-color: #000; 
            color: #E5E7EB; 
            font-family: 'Share Tech Mono', monospace; 
            overflow-x: hidden; 
        }
        
        .neon-text { text-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41; }
        .neon-border { border: 1px solid rgba(0, 255, 65, 0.3); box-shadow: 0 0 15px rgba(0, 255, 65, 0.1); }
        .terminal-bg { background: rgba(0, 15, 0, 0.95); }

        #matrix-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.15; }
        
        /* MODAL */
        #reg-modal { display: none; background: rgba(0,0,0,0.9); }
        .modal-active { display: flex !important; }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <canvas id="matrix-canvas"></canvas>

    <!-- NAV BAR (Top Left Login) -->
    <nav class="p-4 md:p-6 flex justify-between items-center max-w-7xl mx-auto w-full relative z-10 border-b border-green-900/30 bg-black/40 backdrop-blur">
        <div class="flex items-center gap-6">
            <div class="text-2xl font-bold text-green-500 neon-text tracking-widest">CHAOS<span class="text-white">ID</span></div>
            <!-- ADMIN LOGIN (DISCREET) -->
            <a href="/app" class="text-[10px] text-gray-500 hover:text-white border-l border-gray-700 pl-4">ADMIN LOGIN</a>
        </div>
        <div class="flex items-center gap-6 text-xs md:text-sm">
            <div class="hidden md:block text-gray-500">p99 Latency: <span class="text-yellow-400 font-bold">1.8ms</span></div>
            <div class="text-green-500 border border-green-900 px-2 py-1 rounded bg-green-900/20">SYSTEM ONLINE</div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="text-center py-20 px-4 relative z-10">
        <div class="inline-block mb-4 text-[10px] md:text-xs border border-green-500 text-green-500 px-3 py-1 rounded-full bg-green-900/10">
            V110 PRODUCTION LIVE
        </div>
        <h1 class="text-4xl md:text-7xl font-extrabold text-white mb-6 tracking-tight leading-tight">
            THE AGE OF PASSKEYS<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500 neon-text">IS OVER.</span>
        </h1>
        <p class="text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto">
            Quantum-Resistant. Behavior-Aware. <strong class="text-white">Request Access Below.</strong>
        </p>

        <!-- CTA BUTTON -->
        <div class="flex flex-col md:flex-row justify-center gap-4">
            <button onclick="openModal()" class="px-10 py-4 bg-green-600 text-black font-bold rounded shadow-[0_0_20px_rgba(0,255,65,0.4)] hover:bg-green-500 transition-all uppercase tracking-widest text-lg">
                <i class="fas fa-id-card mr-2"></i> REGISTER FOR ACCESS
            </button>
        </div>
    </header>

    <!-- REGISTRATION MODAL -->
    <div id="reg-modal" class="fixed inset-0 z-50 items-center justify-center p-4">
        <div class="bg-black border border-green-500 p-8 rounded-xl max-w-md w-full shadow-[0_0_50px_rgba(0,255,65,0.2)]">
            <h2 class="text-2xl font-bold text-white mb-2">ACCESS REQUEST</h2>
            <p class="text-gray-400 text-xs mb-6">Tell us who you are to generate your API Key.</p>
            
            <form id="reg-form" onsubmit="handleSignup(event)" class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-[10px] text-green-500 uppercase">First Name</label>
                        <input type="text" id="fname" required class="w-full bg-gray-900 border border-green-900 text-white p-3 rounded focus:outline-none focus:border-green-500">
                    </div>
                    <div>
                        <label class="text-[10px] text-green-500 uppercase">Last Initial</label>
                        <input type="text" id="lname" maxlength="1" required class="w-full bg-gray-900 border border-green-900 text-white p-3 rounded focus:outline-none focus:border-green-500">
                    </div>
                </div>
                <div>
                    <label class="text-[10px] text-green-500 uppercase">Reason for Use</label>
                    <textarea id="reason" required rows="3" placeholder="e.g. Building an AI Agent..." class="w-full bg-gray-900 border border-green-900 text-white p-3 rounded focus:outline-none focus:border-green-500"></textarea>
                </div>
                
                <button type="submit" class="w-full py-3 bg-green-600 text-black font-bold rounded hover:bg-green-500 transition uppercase">
                    GENERATE KEY
                </button>
            </form>
            
            <div id="reg-success" class="hidden mt-6 text-center">
                <p class="text-green-400 font-bold mb-2">ACCESS GRANTED</p>
                <div class="bg-gray-900 p-3 rounded border border-green-900 text-xs font-mono text-white mb-4 break-all select-all cursor-pointer" id="api-key-display"></div>
                <a href="/sdk" class="block w-full py-3 border border-green-500 text-green-400 font-bold rounded hover:bg-green-900/20">
                    PROCEED TO SDK
                </a>
            </div>

            <button onclick="closeModal()" class="mt-4 text-xs text-gray-500 hover:text-white w-full text-center">CLOSE</button>
        </div>
    </div>

    <!-- STRATEGIC SECTORS (Retained) -->
    <section class="py-16 max-w-7xl mx-auto px-4 relative z-10 border-t border-gray-900">
        <div class="text-center mb-12">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">DEPLOYING CHAOS INTO THE WILD</h2>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- SECTOR 1 -->
            <div class="bg-gray-900/20 border border-green-900/50 p-6 rounded-xl hover:border-green-500 transition">
                <i class="fas fa-book text-3xl text-blue-500 mb-4"></i>
                <h3 class="text-lg font-bold text-white">Knowledge</h3>
                <p class="text-xs text-gray-400 mt-2">DREAMS V4 protects archives from AI scraping without CAPTCHAs.</p>
            </div>
            <!-- SECTOR 2 -->
            <div class="bg-gray-900/20 border border-green-900/50 p-6 rounded-xl hover:border-green-500 transition">
                <i class="fas fa-car text-3xl text-yellow-500 mb-4"></i>
                <h3 class="text-lg font-bold text-white">Gig Economy</h3>
                <p class="text-xs text-gray-400 mt-2">MBF Fusion prevents account renting by verifying physical presence.</p>
            </div>
            <!-- SECTOR 3 -->
            <div class="bg-gray-900/20 border border-green-900/50 p-6 rounded-xl hover:border-green-500 transition">
                <i class="fas fa-university text-3xl text-purple-500 mb-4"></i>
                <h3 class="text-lg font-bold text-white">Enterprise</h3>
                <p class="text-xs text-gray-400 mt-2">PQC Encryption future-proofs sensitive data against quantum threats.</p>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-12 border-t border-gray-800 mt-auto bg-black relative z-10 text-center text-gray-600 text-xs">
        <p>© 2026 A+ Overhead Garage Doors / CHAOS ID Core. All Rights Reserved.</p>
    </footer>

    <!-- JAVASCRIPT -->
    <script>
        // --- MODAL LOGIC ---
        function openModal() { document.getElementById('reg-modal').classList.add('modal-active'); }
        function closeModal() { document.getElementById('reg-modal').classList.remove('modal-active'); }

        async function handleSignup(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.disabled = true; btn.innerText = "MINTING KEY...";
            
            const payload = {
                firstName: document.getElementById('fname').value,
                lastInitial: document.getElementById('lname').value,
                reason: document.getElementById('reason').value
            };

            try {
                const res = await fetch('/api/v1/public/signup', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await res.json();
                
                if (data.success) {
                    document.getElementById('reg-form').classList.add('hidden');
                    document.getElementById('reg-success').classList.remove('hidden');
                    document.getElementById('api-key-display').innerText = data.key;
                } else {
                    alert("Error: " + data.error);
                    btn.disabled = false; btn.innerText = "GENERATE KEY";
                }
            } catch(err) {
                alert("Connection Failed");
                btn.disabled = false;
            }
        }

        // --- MATRIX RAIN ---
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const chars = "01"; const fontSize = 14; const columns = canvas.width / fontSize; const drops = Array(Math.floor(columns)).fill(1);
        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#0F0'; ctx.font = fontSize + 'px monospace';
            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 50);
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    </script>
</body>
</html>


