<!DOCTYPE html>
<html lang="en">
<head>
    <title>OVERWATCH // GOD MODE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="router.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #ff003c; font-family: 'JetBrains Mono', monospace; padding-bottom: 80px; }
        .panel { border: 1px solid #330000; background: #110000; padding: 16px; margin-bottom: 16px; border-radius: 8px; }
        .btn-cmd { 
            width: 100%; background: #330000; border: 1px solid #ff003c; 
            color: #ff003c; padding: 12px; font-weight: bold; text-transform: uppercase;
            margin-top: 8px; cursor: pointer; transition: all 0.1s;
        }
        .btn-cmd:active { background: #ff003c; color: #000; }
        .log-screen { height: 100px; overflow-y: auto; font-size: 10px; color: #555; border-top: 1px solid #333; margin-top: 10px; padding-top: 5px; }
    </style>
</head>
<body class="p-4">
    
    <div class="flex justify-between items-center mb-6 border-b border-red-900 pb-2">
        <h1 class="text-xl font-bold tracking-widest">GOD_MODE <span class="text-xs text-gray-500">V259</span></h1>
        <div class="text-xs text-red-500 animate-pulse">‚óè LIVE</div>
    </div>

    <div class="panel">
        <h2 class="text-xs font-bold text-gray-500 mb-2">USER STATUS OVERRIDE</h2>
        <div class="flex justify-between text-sm mb-2">
            <span>CURRENT TRUST:</span>
            <span id="trust-display" class="text-white">--</span>
        </div>
        <button onclick="godMode()" class="btn-cmd">
            GRANT FULL POWER (100%)
        </button>
    </div>

    <div class="panel">
        <h2 class="text-xs font-bold text-gray-500 mb-2">KEY FORGE (MINT TOKENS)</h2>
        <div class="bg-black border border-gray-800 p-3 mb-2 text-xs break-all text-white" id="generated-key">
            WAITING_FOR_COMMAND...
        </div>
        <div class="grid grid-cols-2 gap-2">
            <button onclick="mintKey('standard')" class="btn-cmd text-xs" style="margin-top:0;">STD KEY</button>
            <button onclick="mintKey('admin')" class="btn-cmd text-xs" style="margin-top:0;">ADMIN KEY</button>
        </div>
    </div>

    <div class="panel" style="border-color: #333; background: #050505;">
        <h2 class="text-xs font-bold text-gray-500 mb-2">DANGER ZONE</h2>
        <button onclick="resetBio()" class="btn-cmd" style="border-color: #666; color: #888;">
            WIPE BIOMETRICS
        </button>
    </div>

    <a href="/dashboard" class="block w-full text-center py-4 text-gray-500 hover:text-white text-xs border-t border-gray-900 mt-8">
        << RETURN TO SANCTUARY
    </a>

    <script>
        // Init
        const trust = localStorage.getItem('chaos_trust_score') || '0';
        document.getElementById('trust-display').innerText = trust + '%';

        // 1. GOD MODE: Force Trust to 100
        function godMode() {
            if(confirm("ELEVATE PRIVILEGES TO LEVEL 10?")) {
                localStorage.setItem('chaos_trust_score', '100');
                localStorage.setItem('chaos_last_bio_score', '100');
                document.getElementById('trust-display').innerText = '100% (MAX)';
                alert("PRIVILEGES GRANTED. YOU ARE NOW ADMIN.");
            }
        }

        // 2. MINT KEYS
        function mintKey(type) {
            const seed = Array.from(window.crypto.getRandomValues(new Uint8Array(8)), b=>b.toString(16).padStart(2,'0')).join('');
            let prefix = type === 'admin' ? 'sk_admin_' : 'sk_live_';
            let key = prefix + seed;
            
            document.getElementById('generated-key').innerText = key;
            document.getElementById('generated-key').classList.add('text-green-500');
            
            navigator.clipboard.writeText(key).then(() => alert("KEY COPIED TO CLIPBOARD"));
        }

        // 3. RESET
        function resetBio() {
            if(confirm("WARNING: THIS WILL WIPE YOUR BIOMETRIC DATA. CONTINUE?")) {
                localStorage.removeItem('chaos_master_template');
                localStorage.removeItem('chaos_trust_score');
                alert("SYSTEM WIPED. RECALIBRATION REQUIRED.");
                window.location.href = '/abyss-forge.html';
            }
        }
    </script>
</body>
</html>
